import{r as m,j as e,S as C,x as L}from"./app-CzNOCBCP.js";import{A as M}from"./AuthenticatedLayout-BrSYted1.js";import V from"./VehicleModal-C9A7pvxW.js";import"./transition-DY9qfS6v.js";function T({auth:g,vehicles:h,vehicleTypes:j=[]}){const[n,v]=m.useState(""),[w,b]=m.useState(!1),[N,u]=m.useState(null),[i,y]=m.useState(null),d=h.data||[],p=(s=null,t=null)=>{u(s&&t?{...s,vehicle_type:t}:null),b(!0)},c=d.filter(s=>{var t,l,r;return((t=s.vehicle_type_name)==null?void 0:t.toLowerCase().includes(n.toLowerCase()))||((l=s.category)==null?void 0:l.toLowerCase().includes(n.toLowerCase()))||((r=s.vehicles)==null?void 0:r.some(a=>{var f;return(f=a.plate_number)==null?void 0:f.toLowerCase().includes(n.toLowerCase())}))}),o=d.reduce((s,t)=>{var l;return s+(((l=t.vehicles)==null?void 0:l.length)||0)},0),k=d.reduce((s,t)=>{var l;return s+(((l=t.vehicles)==null?void 0:l.filter(r=>r.status==="available").length)||0)},0),x=d.reduce((s,t)=>{var l;return s+(((l=t.vehicles)==null?void 0:l.filter(r=>r.status==="on trip").length)||0)},0);return e.jsxs(M,{user:g.user,children:[e.jsx(C,{title:"Vehicle Registry"}),e.jsx("style",{children:`
                @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700&display=swap');
                
                * {
                    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
                }
                
                .font-mono {
                    font-family: 'JetBrains Mono', 'Courier New', monospace;
                }
                
                .custom-scrollbar::-webkit-scrollbar {
                    width: 6px;
                }
                
                .custom-scrollbar::-webkit-scrollbar-track {
                    background: transparent;
                }
                
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: #d1d5db;
                    border-radius: 100px;
                }
                
                .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                    background: #9ca3af;
                }
                
                @keyframes slideIn {
                    from {
                        opacity: 0;
                        transform: translateY(10px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
                
                .animate-slide-in {
                    animation: slideIn 0.4s ease-out forwards;
                }
                
                .stagger-1 { animation-delay: 0.05s; }
                .stagger-2 { animation-delay: 0.1s; }
                .stagger-3 { animation-delay: 0.15s; }
            `}),e.jsxs("div",{className:"h-[calc(100vh-80px)] bg-slate-50 flex flex-col lg:flex-row overflow-hidden",children:[e.jsxs("aside",{className:"w-full lg:w-80 bg-white border-r border-slate-200 p-6 flex flex-col shadow-sm",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2.5",children:"Search Fleet"}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"text",placeholder:"Search by model, category, or plate...",className:"w-full pl-4 pr-11 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all",value:n,onChange:s=>v(s.target.value)}),e.jsx("div",{className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-emerald-500 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Fleet Overview"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-emerald-600 to-emerald-700 p-5 rounded-2xl shadow-lg shadow-emerald-900/20",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16"}),e.jsxs("div",{className:"relative",children:[e.jsx("p",{className:"text-xs font-semibold text-emerald-200 uppercase tracking-wide",children:"Total Fleet"}),e.jsxs("div",{className:"flex items-baseline justify-between mt-2",children:[e.jsx("h4",{className:"text-5xl font-bold text-white tracking-tight",children:o}),e.jsx("span",{className:"text-xs font-semibold text-emerald-200 bg-white/10 px-2.5 py-1 rounded-lg backdrop-blur-sm",children:"VEHICLES"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-emerald-50 p-4 rounded-xl border border-emerald-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),e.jsx("svg",{className:"w-4 h-4 text-emerald-600/30",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),e.jsx("p",{className:"text-2xl font-bold text-emerald-700",children:k}),e.jsx("p",{className:"text-xs font-semibold text-emerald-600 uppercase tracking-wide mt-1",children:"Available"})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),e.jsx("svg",{className:"w-4 h-4 text-blue-600/30",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:x}),e.jsx("p",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wide mt-1",children:"On Trip"})]})]}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide",children:"Utilization"}),e.jsxs("span",{className:"text-sm font-bold text-slate-900",children:[o>0?Math.round(x/o*100):0,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 h-full rounded-full transition-all duration-700 ease-out",style:{width:`${o>0?x/o*100:0}%`}})})]})]})]}),e.jsxs("button",{onClick:()=>p(),className:"w-full bg-emerald-600 hover:bg-emerald-700 active:bg-emerald-800 text-white py-3.5 rounded-xl font-semibold text-sm shadow-lg shadow-emerald-900/20 hover:shadow-xl hover:shadow-emerald-900/30 transition-all active:scale-[0.98] mt-6 flex items-center justify-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e.jsx("span",{children:"Register New Vehicle"})]})]}),e.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-slate-50",children:[e.jsx("div",{className:"p-8 pb-6 border-b border-slate-200 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Vehicle Fleet"}),e.jsx("p",{className:"text-sm text-slate-500 font-medium mt-1",children:"Manage and monitor your fleet by vehicle type and category"})]}),e.jsx("div",{className:"flex items-center space-x-2 text-sm",children:e.jsxs("span",{className:"text-slate-500 font-medium",children:[c.length," ",c.length===1?"type":"types"]})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-8 py-6 space-y-4 custom-scrollbar",children:c.length>0?c.map((s,t)=>{var l,r;return e.jsxs("div",{className:`bg-white rounded-2xl border border-slate-200 transition-all duration-300 hover:shadow-md animate-slide-in stagger-${Math.min(t+1,3)} ${i===s.id?"ring-2 ring-emerald-500 shadow-lg":""}`,children:[e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-5",children:[e.jsx("div",{className:"relative flex-shrink-0",children:e.jsxs("div",{className:"bg-gradient-to-br from-slate-100 to-slate-200 w-16 h-16 rounded-xl flex flex-col items-center justify-center border border-slate-300/50 shadow-sm",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase leading-none",children:"Unit/s"}),e.jsx("span",{className:"text-2xl font-bold text-slate-900 leading-none mt-1",children:((l=s.vehicles)==null?void 0:l.length)||0})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 leading-tight",children:s.vehicle_type_name}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1.5",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-semibold bg-slate-100 text-slate-700",children:s.category}),e.jsx("span",{className:"text-slate-400",children:"â€¢"}),e.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Fleet Asset"})]})]})]}),e.jsx("button",{onClick:()=>y(i===s.id?null:s.id),className:`px-6 py-2.5 rounded-xl text-sm font-semibold transition-all ${i===s.id?"bg-emerald-600 text-white shadow-md hover:bg-emerald-700":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:i===s.id?e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}),e.jsx("span",{children:"Hide Vehicles"})]}):e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),e.jsx("span",{children:"View Vehicles"})]})})]})}),i===s.id&&e.jsx("div",{className:"px-6 pb-6 border-t border-slate-100",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 pt-4",children:(r=s.vehicles)==null?void 0:r.map(a=>e.jsx("div",{className:"group bg-slate-50 hover:bg-white p-4 rounded-xl border border-slate-200 hover:border-emerald-200 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-1 h-5 bg-emerald-500 rounded-full flex-shrink-0"}),e.jsx("span",{className:"text-base font-mono font-bold text-slate-900 tracking-tight truncate",children:a.plate_number})]}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-semibold ${a.status==="available"?"bg-emerald-100 text-emerald-700 border border-emerald-200":a.status==="on_trip"?"bg-blue-100 text-blue-700 border border-blue-200":"bg-amber-100 text-amber-700 border border-amber-200"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${a.status==="available"?"bg-emerald-500":a.status==="on_trip"?"bg-blue-500 animate-pulse":"bg-amber-500"}`}),a.status.replace("_"," ").toUpperCase()]})]}),e.jsxs("div",{className:"flex items-center space-x-1.5 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[e.jsx("button",{onClick:()=>p(a,s),className:"p-2 bg-white text-slate-600 rounded-lg hover:bg-emerald-50 hover:text-emerald-600 transition-colors border border-slate-200 hover:border-emerald-300 shadow-sm",title:"Edit vehicle",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{className:"p-2 bg-white text-slate-600 rounded-lg hover:bg-red-50 hover:text-red-600 transition-colors border border-slate-200 hover:border-red-300 shadow-sm",title:"Delete vehicle",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},a.id))})})]},s.id)}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-96 bg-white rounded-2xl border-2 border-dashed border-slate-300",children:[e.jsx("svg",{className:"w-16 h-16 text-slate-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0zM13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"})}),e.jsx("p",{className:"text-slate-400 font-semibold text-sm",children:"No vehicles found matching your search"}),e.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Try adjusting your search terms"})]})}),e.jsx("div",{className:"bg-white border-t border-slate-200 p-5",children:e.jsx("div",{className:"flex justify-center items-center gap-2",children:h.links.map((s,t)=>e.jsx(L,{href:s.url,className:`min-w-[40px] h-10 flex items-center justify-center px-4 rounded-lg text-sm font-semibold transition-all ${s.active?"bg-emerald-600 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200"} ${s.url?"":"opacity-40 pointer-events-none"}`,dangerouslySetInnerHTML:{__html:s.label}},t))})})]})]}),e.jsx(V,{isOpen:w,onClose:()=>b(!1),vehicle:N,vehicleTypes:j})]})}export{T as default};
